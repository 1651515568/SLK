# 终端身份识别与安全防护系统 - 产品需求文档

## 1. 项目概述

### 1.1 产品定位
终端身份识别与安全防护系统是面向国网北京电力公司的主动安全防御平台，通过AI驱动的设备身份识别、数据融合分析和智能风险评估，构建公司安全一张图，实现对电力专用终端、办公终端与非法设备的精准识别和全生命周期追踪。

### 1.2 核心价值
- **主动防御**：从被动应对转向主动识别和预防
- **精准识别**：设备身份识别准确率≥95%
- **数据融合**：打破数据孤岛，构建全局风险视图
- **智能分析**：AI驱动的威胁检测和风险评估

## 2. 系统架构

### 2.1 整体架构
```
┌─────────────────────────────────────────────────────────────┐
│                    前端展示层                                │
├─────────────────────────────────────────────────────────────┤
│  设备识别监控  │  安全态势展示  │  风险评估面板  │  漏洞管理   │
├─────────────────────────────────────────────────────────────┤
│                    模拟数据层                                │
├─────────────────────────────────────────────────────────────┤
│  设备身份库  │  威胁情报库  │  安全事件库  │  漏洞数据库  │
└─────────────────────────────────────────────────────────────┘
```

### 2.2 技术栈要求
- **前端框架**：React 18 + TypeScript
- **UI组件库**：Ant Design 5.x
- **图表可视化**：ECharts 5.x
- **状态管理**：Zustand
- **路由管理**：React Router v6
- **样式方案**：Tailwind CSS + Less
- **构建工具**：Vite
- **HTTP客户端**：Axios

## 3. 功能模块设计

### 3.1 设备身份精准识别模块

#### 3.1.1 功能描述
支持电力专用终端、办公终端与非法设备的自动化鉴别与分类，实现设备身份的精准识别和动态追踪。

#### 3.1.2 前端界面设计

**主界面布局**
- 左侧导航：设备分类树形结构
- 主内容区：设备列表和详情
- 右侧面板：设备属性和风险评估

**核心组件**
1. **DeviceIdentificationPanel** - 设备识别面板
2. **DeviceList** - 设备列表组件
3. **DeviceDetail** - 设备详情组件
4. **DeviceClassifier** - 设备分类器

**数据模拟结构**
```typescript
interface DeviceInfo {
  id: string;
  deviceName: string;
  deviceType: 'power_terminal' | 'office_terminal' | 'illegal_device';
  macAddress: string;
  ipAddress: string;
  vendor: string;
  model: string;
  osVersion: string;
  securityStatus: 'trusted' | 'suspicious' | 'malicious';
  riskLevel: 'low' | 'medium' | 'high' | 'critical';
  lastSeen: string;
  networkLocation: string;
  complianceStatus: 'compliant' | 'non_compliant' | 'unknown';
  vulnerabilities: VulnerabilityInfo[];
  behaviorScore: number;
}
```

**页面路由**
- `/device-identification` - 设备识别主页面
- `/device-identification/:deviceId` - 设备详情页

### 3.2 电网安全一张图模块

#### 3.2.1 功能描述
构建统一的全局安全风险视图，实现对终端本体安全状态的主动感知与评估，打通设备数字身份、网络、安全与威胁情报数据孤岛。

#### 3.2.2 前端界面设计

**主界面布局**
- 顶部：全局安全态势指标
- 中央：3D网络拓扑图或2D平面图
- 底部：实时事件流
- 侧边：风险等级图例和控制面板

**核心组件**
1. **SecurityOverview** - 安全态势总览
2. **NetworkTopology** - 网络拓扑图
3. **RiskHeatmap** - 风险热力图
4. **RealTimeEvents** - 实时事件流
5. **ThreatIntelligence** - 威胁情报面板

**数据模拟结构**
```typescript
interface SecurityOverview {
  totalDevices: number;
  trustedDevices: number;
  suspiciousDevices: number;
  maliciousDevices: number;
  criticalAlerts: number;
  responseTime: number;
  identificationAccuracy: number;
  blockRate: number;
}

interface NetworkNode {
  id: string;
  name: string;
  type: 'gateway' | 'server' | 'terminal' | 'router';
  riskLevel: 'low' | 'medium' | 'high' | 'critical';
  position: { x: number; y: number; z?: number };
  connections: string[];
  status: 'online' | 'offline' | 'warning';
}
```

**页面路由**
- `/security-overview` - 安全态势总览
- `/network-topology` - 网络拓扑图

### 3.3 数据融合分析平台模块

#### 3.3.1 功能描述
实现数字身份-网络-安全数据的融合分析，支撑全局风险研判和关联分析。

#### 3.3.2 前端界面设计

**主界面布局**
- 顶部：数据源状态和融合指标
- 左侧：数据源列表
- 中央：数据关联分析图表
- 右侧：分析结果和推荐

**核心组件**
1. **DataSourcePanel** - 数据源面板
2. **CorrelationAnalysis** - 关联分析图表
3. **DataFusionMetrics** - 数据融合指标
4. **RiskCorrelation** - 风险关联分析

**数据模拟结构**
```typescript
interface DataSource {
  id: string;
  name: string;
  type: 'identity' | 'network' | 'security' | 'threat_intel';
  status: 'connected' | 'disconnected' | 'error';
  lastUpdate: string;
  recordCount: number;
  dataQuality: number;
}

interface CorrelationResult {
  id: string;
  sourceTypes: string[];
  correlation: number;
  insights: string[];
  riskFactors: string[];
  recommendations: string[];
}
```

**页面路由**
- `/data-fusion` - 数据融合分析平台

### 3.4 智能终端接入阻断模块

#### 3.4.1 功能描述
实现对"黑产"设备等高危终端的智能识别与拦截，提供主动防御能力。

#### 3.4.2 前端界面设计

**主界面布局**
- 顶部：阻断统计和成功率
- 中央：实时阻断事件列表
- 底部：阻断规则配置

**核心组件**
1. **BlockStatistics** - 阻断统计
2. **RealTimeBlock** - 实时阻断事件
3. **BlockRules** - 阻断规则配置
4. **ThreatDatabase** - 威胁数据库

**数据模拟结构**
```typescript
interface BlockEvent {
  id: string;
  timestamp: string;
  deviceInfo: DeviceInfo;
  blockReason: string;
  blockType: 'automatic' | 'manual' | 'policy';
  success: boolean;
  threatLevel: 'low' | 'medium' | 'high' | 'critical';
}

interface BlockRule {
  id: string;
  name: string;
  condition: string;
  action: 'block' | 'monitor' | 'alert';
  enabled: boolean;
  hitCount: number;
  lastTriggered: string;
}
```

**页面路由**
- `/access-control` - 接入阻断管理

### 3.5 漏洞扫描与管理模块

#### 3.5.1 功能描述
优化漏洞扫描器和识别算法，引入机器学习和行为分析技术，提升漏洞发现的准确率和效率。

#### 3.5.2 前端界面设计

**主界面布局**
- 顶部：漏洞统计和风险分布
- 左侧：扫描任务列表
- 中央：漏洞详情和修复建议
- 右侧：扫描配置和控制

**核心组件**
1. **VulnerabilityDashboard** - 漏洞统计面板
2. **ScanTasks** - 扫描任务管理
3. **VulnerabilityList** - 漏洞列表
4. **ScanConfiguration** - 扫描配置
5. **RemediationGuide** - 修复指南

**数据模拟结构**
```typescript
interface Vulnerability {
  id: string;
  cveId: string;
  title: string;
  description: string;
  severity: 'low' | 'medium' | 'high' | 'critical';
  cvssScore: number;
  affectedDevices: string[];
  discoveryDate: string;
  status: 'open' | 'in_progress' | 'resolved' | 'accepted';
  remediation: string;
  exploitAvailable: boolean;
}

interface ScanTask {
  id: string;
  name: string;
  target: string[];
  scanType: 'quick' | 'comprehensive' | 'custom';
  status: 'pending' | 'running' | 'completed' | 'failed';
  progress: number;
  startTime: string;
  endTime?: string;
  vulnerabilitiesFound: number;
}
```

**页面路由**
- `/vulnerability-management` - 漏洞管理
- `/scan-tasks` - 扫描任务

## 4. 用户体验设计

### 4.1 设计原则
- **直观性**：关键信息一目了然
- **实时性**：数据实时更新和展示
- **交互性**：支持多维度数据交互
- **响应式**：适配不同屏幕尺寸

### 4.2 色彩规范
- **安全绿色**：#52c41a (可信设备)
- **警告橙色**：#fa8c16 (可疑设备)
- **危险红色**：#f5222d (恶意设备)
- **信息蓝色**：#1890ff (一般信息)
- **中性灰色**：#8c8c8c (未知状态)

### 4.3 图标系统
- **设备图标**：按设备类型区分的矢量图标
- **状态图标**：在线/离线/警告/错误状态
- **操作图标**：刷新、过滤、搜索、导出等

## 5. 数据模拟策略

### 5.1 模拟数据生成
- **设备数据**：随机生成1000+设备记录
- **安全事件**：模拟实时安全事件流
- **网络拓扑**：生成层次化网络结构
- **漏洞数据**：包含常见CVE漏洞信息

### 5.2 实时数据更新
- 使用WebSocket模拟实时数据推送
- 定时器模拟数据更新
- 随机生成安全事件和状态变化

## 6. 性能要求

### 6.1 响应性能
- 页面加载时间：< 3秒
- 数据查询响应：< 1秒
- 图表渲染：< 2秒
- 实时更新延迟：< 500ms

### 6.2 并发支持
- 支持100+并发用户
- 同时显示10000+设备记录
- 实时处理1000+事件/分钟

## 7. 浏览器兼容性

### 7.1 支持浏览器
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

### 7.2 移动端适配
- 响应式设计
- 触控友好的交互
- 简化的移动端界面

## 8. 安全要求

### 8.1 前端安全
- XSS防护
- CSRF防护
- 敏感信息加密
- 安全Headers配置

### 8.2 数据安全
- 脱敏处理
- 访问权限控制
- 操作日志记录

## 9. 部署要求

### 9.1 构建配置
- 生产环境优化
- 代码分割和懒加载
- 静态资源压缩
- CDN配置

### 9.2 环境变量
```env
VITE_API_BASE_URL=https://api.example.com
VITE_WS_URL=wss://ws.example.com
VITE_APP_VERSION=1.0.0
VITE_DEBUG_MODE=false
```

## 10. 开发规范

### 10.1 代码规范
- TypeScript严格模式
- ESLint + Prettier代码格式化
- 组件化开发
- 状态管理规范

### 10.2 组件规范
- 统一组件命名规范
- Props类型定义
- 生命周期管理
- 错误边界处理

## 11. 测试策略

### 11.1 单元测试
- Jest + React Testing Library
- 组件测试覆盖率 > 80%

### 11.2 集成测试
- Cypress端到端测试
- 关键业务流程测试

## 12. 项目里程碑

### 12.1 第一阶段（2周）
- 项目基础架构搭建
- 设备识别模块开发
- 基础UI组件库

### 12.2 第二阶段（2周）
- 安全态势展示开发
- 数据融合分析平台
- 图表可视化组件

### 12.3 第三阶段（1周）
- 接入阻断模块
- 漏洞管理模块
- 整体联调和优化

## 13. 验收标准

### 13.1 功能验收
- 所有模块功能完整实现
- 数据展示准确无误
- 交互体验流畅

### 13.2 性能验收
- 页面加载速度符合要求
- 大量数据渲染正常
- 实时更新功能正常

### 13.3 兼容性验收
- 主流浏览器正常运行
- 响应式设计适配良好
- 无明显兼容性问题

---

**文档版本**：v1.0  
**创建日期**：2025-12-23  
**最后更新**：2025-12-23  
**文档状态**：已完成